---
import { slugify } from '../../scripts/slugify';
import { sortByDateDesc } from '../../scripts/sortByDate';

import DefaultLayout from "../../layouts/DefaultLayout.astro";

import Circle from '../../components/Circle.astro';
import ProjectList from "../../components/ProjectList.astro"

import IconPageLink from "../../components/icons/Icon-PageLink.astro"

const allProjects = await Astro.fetchContent("../../content/Projekte/*.md");
const formattedProjects = allProjects.map(project => ({
    ...project,
    slug: slugify(project.title),
})).sort(sortByDateDesc)

---
<DefaultLayout title={"Meine Projekte"} description={"Alle mÃ¶glichen und verschiedene Projekte, die ich gemacht habe. Meistens Webseiten."} canonical={Astro.request.canonicalURL}>

<div class="section layout-container mt-header">
    <div class="stack -layout-xl">
    <h1 class="section-title -with-dot -dot-top">Projekte</h1>
    <ProjectList projects={formattedProjects}></ProjectList>
    </div>
</div>
</DefaultLayout>
