---

---
<style lang="scss">
.scene {
  --width: 12rem;
  --height: calc(var(--width) * var(--ratio));
  perspective: calc(var(--width) * var(--ratio) * var(--ratio) * var(--ratio) * var(--ratio));
  width: var(--width);
  height: var(--height);
  border: var(--s-5) solid var(--brand);
  margin: 0 2rem;
}

.block {
  --blockRotation: 0deg;
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform-origin: center center;
  transform: translateZ(calc(var(--width) / -2)) rotateY(var(--blockRotation));
}



.side {
  position: absolute;
  width: var(--width);
  height: var(--height);
  background: var(--surface1);
  border: var(--s-2) solid var(--text1);
  display: flex;
}

.logo {
  color: var(--text1);
  width: calc(var(--width) / 2);
  height: calc(var(--width) / 2);
  align-self: center;
  margin: auto;
}

.-center {
  transform: rotateY(0) translateZ(calc(var(--width) / 2));
}

.-left {
  transform: rotateY(-90deg) translateZ(calc(var(--width) / 2));
}

.-back {
  transform: rotateY(180deg) translateZ(calc(var(--width) / 2));
  background: var(--text1);
}

.-right {
  transform: rotateY(90deg) translateZ(calc(var(--width) / 2));
  background: var(--brand);
}

@keyframes rotate-sideways {
  0% {
    transform: translateZ(calc(var(--width) / -2)) rotateY(0deg);
  }
  100% {
    transform: translateZ(calc(var(--width) / -2)) rotateY(-360deg);
  }
}
</style>

<div class="scene">
<div class="block">
  <div class="side -center"></div>
  <div class="side -right">
    <div class="logo"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M0 0h640v640H0z"/><path d="M25 272h64M361 23v64M553 272h64M361 549v64" stroke="currentColor" stroke-width="var(--s-2)"/><path fill-rule="evenodd" clip-rule="evenodd" d="M357 549.066C467.544 531.349 552 435.537 552 320c0-128.13-103.87-232-232-232-113.086 0-207.274 80.911-227.833 188h-8.143C104.69 164.466 202.481 80 320 80c132.548 0 240 107.452 240 240 0 119.965-88.019 219.373-203 237.165v-8.099z" fill="currentColor"/><path fill="currentColor" d="M308 179h24v280h-24z"/></svg></div>
  </div>
  <div class="side -back"></div>
  <div class="side -left"></div>
  </div>
</div>
<script lang="ts">
let rotation = 0;
let animationHandle;

const block = document.querySelector(".block");

block.addEventListener("mouseenter", () => {
  animationHandle = requestAnimationFrame(updateRotationState);
})

block.addEventListener("mouseleave", () => {
  cancelAnimationFrame(animationHandle);
})

const updateRotationState = () => {
  rotation = rotation - 0.5;
  block.style.setProperty("--blockRotation", `${rotation}deg`)
  animationHandle = requestAnimationFrame(updateRotationState)
}
</script>